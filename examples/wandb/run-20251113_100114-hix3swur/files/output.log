2025-11-13 10:01:17,459 | film_recommender_cg.scorer | INFO | 'Scorer' object instantiated; W&B run initialized.
2025-11-13 10:01:17,466 | film_recommender_cg.scorer | INFO | Loading in 'ratings' data...
2025-11-13 10:01:22,062 | film_recommender_cg.db_connector | INFO | Successfully read collection 'ratings'. Shape of df: (139100, 4)
2025-11-13 10:01:22,107 | film_recommender_cg.scorer | INFO | Data successfully loaded!
2025-11-13 10:01:22,110 | film_recommender_cg.scorer | INFO | Number of 'existing' users: 1786 -> Using SVD collaborative filtering model to generate these recommendations...
2025-11-13 10:01:22,114 | film_recommender_cg.scorer | INFO | Number of 'New' users: 22 -> Falling back to cold-start strategy of recommending top 'n' films by popularity...
2025-11-13 10:01:22,117 | film_recommender_cg.scorer | INFO | Ratings data loaded successfully.
2025-11-13 10:01:22,283 | film_recommender_cg.db_connector | INFO | Successfully read collection 'genres'. Shape of df: (4877, 2)
2025-11-13 10:01:22,673 | film_recommender_cg.scorer | INFO | Genres table loaded successfully.
2025-11-13 10:01:22,676 | film_recommender_cg.scorer | INFO | Loading in model from W&B...
[34m[1mwandb[0m:   1 of 1 files downloaded.
2025-11-13 10:01:24,415 | film_recommender_cg.scorer | INFO | Model successfully loaded!
2025-11-13 10:01:24,418 | film_recommender_cg.scorer | INFO | Model imported successfully.
2025-11-13 10:01:24,422 | film_recommender_cg.scorer | INFO | Scoring for 'existing' users...
2025-11-13 10:03:03,242 | film_recommender_cg.scorer | INFO | Scoring complete for 'existing' users!
2025-11-13 10:03:03,373 | film_recommender_cg.scorer | INFO | Rankings for existing users generated successfully.
2025-11-13 10:03:03,379 | film_recommender_cg.scorer | INFO | Scoring for 'new' users...
2025-11-13 10:03:03,440 | film_recommender_cg.scorer | INFO | Scoring complete for 'new' users!
2025-11-13 10:03:03,442 | film_recommender_cg.scorer | INFO | Rankings for new users generated successfully.
2025-11-13 10:03:03,444 | film_recommender_cg.scorer | INFO | Simulating interactions for 'existing' users...
2025-11-13 10:03:03,457 | film_recommender_cg.scorer | ERROR | Failed to simulate film choices for existing users.
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/film_recommender_cg/scorer.py", line 161, in score_simulate_and_update_ratings_table
    new_interactions_existing_users = self._simulate_batch_of_film_choices(
  File "/usr/local/lib/python3.10/site-packages/film_recommender_cg/scorer.py", line 898, in _simulate_batch_of_film_choices
    interaction = self._simulate_single_user_film_choice(user_id, ranking, n_recs, genres_table, genre_to_penalize, genre_penalty)
  File "/usr/local/lib/python3.10/site-packages/film_recommender_cg/scorer.py", line 880, in _simulate_single_user_film_choice
    simmed_rating = self._sample_noisy_rating(chosen_film_genres, predicted_rating, genre_to_penalize, genre_penalty)
  File "/usr/local/lib/python3.10/site-packages/film_recommender_cg/scorer.py", line 854, in _sample_noisy_rating
    if genre_to_penalize.title() in chosen_film_genres:
AttributeError: 'float' object has no attribute 'title'
2025-11-13 10:03:03,467 | film_recommender_cg.scorer | ERROR | Error occurred in running 'score_simulate_and_update_ratings_table()'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/film_recommender_cg/scorer.py", line 161, in score_simulate_and_update_ratings_table
    new_interactions_existing_users = self._simulate_batch_of_film_choices(
  File "/usr/local/lib/python3.10/site-packages/film_recommender_cg/scorer.py", line 898, in _simulate_batch_of_film_choices
    interaction = self._simulate_single_user_film_choice(user_id, ranking, n_recs, genres_table, genre_to_penalize, genre_penalty)
  File "/usr/local/lib/python3.10/site-packages/film_recommender_cg/scorer.py", line 880, in _simulate_single_user_film_choice
    simmed_rating = self._sample_noisy_rating(chosen_film_genres, predicted_rating, genre_to_penalize, genre_penalty)
  File "/usr/local/lib/python3.10/site-packages/film_recommender_cg/scorer.py", line 854, in _sample_noisy_rating
    if genre_to_penalize.title() in chosen_film_genres:
AttributeError: 'float' object has no attribute 'title'
